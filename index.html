<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Алгомиры</title>
</head>

<body>
    <section>
        <div class="container text-center pt-5">
            <div class="row">
                <div class="col-12">
                    <h1>Алгомиры</h1>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-4">
                    <h6>Блок заданий:</h6>
                </div>
                <div class="col-8">
                    <select class="form-select" id="block_tasks" onchange="ChangeBlock()"></select>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-4">
                    <h6>Задание:</h6>
                </div>
                <div class="col-8">
                    <select class="form-select" id="current_task" onchange="ChangeTask()"></select>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12">
                    <a class="btn btn-success" id="btn_download" href="#" download="">Скачать файл</a>
                    <a class="btn btn-danger" id="btn_download_all" href="#" download="">Скачать весь блок</a>
                </div>
            </div>
        </div>
    </section>

    <script>
        let alphabet = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
        let tasks =
            [
                ["Start", 17, "Начало"],
                ["Linear Algorithms", 10, "Линейные алгоритмы"],
                ["Branching 1", 10, "Ветвление 1"],
                ["Branching 2", 9, "Ветвление 2"],
                ["For 1", 7, "Цикл For 1"],
                ["For 2", 6, "Цикл For 2"],
                ["For 3", 9, "Цикл For 3"],
                ["Nested 1", 5, "Вложенные циклы 1"],
                ["While", 12, "Цикл While"],
            ]

        let load_result = ""
        for (let i = 0; i < tasks.length; i++) {
            load_result += `<option value="${tasks[i][0]}">${tasks[i][2]}</option>`
        }
        document.getElementById("block_tasks").innerHTML = load_result

        function GetNumber() {
            let count = 0
            for (let i = 0; i < tasks.length; i++) {
                let str = document.getElementById("block_tasks").value
                if (str == tasks[i][0]) {
                    count = tasks[i][1]
                    break
                }
            }
            return count
        }

        function ChangeBlock() {
            let str = document.getElementById("block_tasks").value
            let result = ""
            for (let i = 0; i < GetNumber(); i++) {
                result += `<option value="Task ${alphabet[i]}">Задание ${alphabet[i]}</option>`
            }
            document.getElementById("current_task").innerHTML = result
            ChangeTask()
        }

        function ChangeTask() {
            document.getElementById("btn_download").href = `Files/Answers/${document.getElementById("block_tasks").value}/${document.getElementById("current_task").value}.py`
            document.getElementById("btn_download_all").href = `Files/Archives/${document.getElementById("block_tasks").value}.zip`
        }

        ChangeBlock()
    </script>
</body>

</html>
